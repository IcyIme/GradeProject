@page "/"

@using Microsoft.AspNetCore.Components.Authorization

@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthenticationStateProvider

<h1>Redirecting...</h1>
@code {
	protected override async Task OnInitializedAsync()
	{
		var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
		var user = authState.User;

		if (user.Identity.IsAuthenticated)
		{
			Navigation.NavigateTo("/home");
		}
		else
		{
			Navigation.NavigateTo("/index");
		}
	}
}