@using GradeProject.Components.Account.Shared

<MediaQueryList>
    <ViewTransitionRouter AppAssembly="typeof(Program).Assembly">
        <Found Context="routeData">
            <AuthorizeRouteView RouteData="routeData" DefaultLayout="@(isMobile ? typeof(Layout.MobileLayout) : typeof(Layout.MainLayout))">
                <NotAuthorized>
                    <RedirectToLogin/>
                </NotAuthorized>
            </AuthorizeRouteView>
            <FocusOnNavigate RouteData="routeData" Selector="[autofocus]"/>
        </Found>
    </ViewTransitionRouter>
    <MediaQuery Media="(max-width: 600px)" @bind-Matches="isMobile" />
</MediaQueryList>

@code {
    private bool isMobile;
}
